{"ast":null,"code":"var _jsxFileName = \"/Users/rohan/Desktop/Rohan's Stuff/VSCode/MovieTracker/movies/react-app/src/MovieList.js\";\nimport React, { Component } from \"react\";\nimport './MovieList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar xhr;\n\nclass MovieList extends Component {\n  constructor(props) {\n    super(props);\n    this.toMovie = this.toMovie.bind(this);\n    this.genreLabel = this.genreLabel.bind(this);\n    this.state = {\n      movies: []\n    };\n    this.sendRequest = this.sendRequest.bind(this);\n    this.processRequest = this.processRequest.bind(this);\n    this.props.eventDispatcher.subscribe(\"addMovie\", this.sendRequest);\n  }\n\n  sendRequest() {\n    xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", \"http://localhost/movies\");\n    xhr.send();\n    xhr.addEventListener(\"readystatechange\", this.processRequest, false);\n  }\n\n  processRequest() {\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      var response = JSON.parse(xhr.responseText);\n      this.setState({\n        movies: response\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.sendRequest();\n  }\n\n  genreLabel(g) {\n    return \"?\";\n  }\n\n  toMovie(m) {\n    var g = \"?\";\n\n    for (var i = 0; i < this.props.genres.length; i++) {\n      if (this.props.genres[i].value === m.genre) {\n        g = this.props.genres[i].label;\n        break;\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: m.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: g\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 59\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 37\n      }, this)\n    }, m.guid, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"movie-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Genre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), this.state.movies.map(this.toMovie)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default MovieList;","map":{"version":3,"names":["React","Component","xhr","MovieList","constructor","props","toMovie","bind","genreLabel","state","movies","sendRequest","processRequest","eventDispatcher","subscribe","XMLHttpRequest","open","send","addEventListener","readyState","status","response","JSON","parse","responseText","setState","componentDidMount","g","m","i","genres","length","value","genre","label","title","guid","render","map"],"sources":["/Users/rohan/Desktop/Rohan's Stuff/VSCode/MovieTracker/movies/react-app/src/MovieList.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport './MovieList.css';\n\nvar xhr;\n\nclass MovieList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.toMovie = this.toMovie.bind(this);\n        this.genreLabel = this.genreLabel.bind(this);\n        this.state = {\n            movies: []\n        }\n        this.sendRequest = this.sendRequest.bind(this);\n        this.processRequest = this.processRequest.bind(this);\n        this.props.eventDispatcher.subscribe(\"addMovie\", this.sendRequest);\n    }\n\n    sendRequest() {\n        xhr = new XMLHttpRequest();\n        xhr.open(\"GET\", \"http://localhost/movies\");\n        xhr.send();\n        xhr.addEventListener(\"readystatechange\", this.processRequest, false);\n    }\n\n    processRequest() {\n        if (xhr.readyState === 4 && xhr.status === 200) {\n            var response = JSON.parse(xhr.responseText);\n            this.setState({\n                movies: response\n            });\n        }\n    }\n\n    componentDidMount() {\n        this.sendRequest();\n    }\n\n    genreLabel(g) {\n        return \"?\";\n    }\n\n    toMovie(m) {\n        var g = \"?\";\n        for (var i = 0; i < this.props.genres.length; i++) {\n            if (this.props.genres[i].value === m.genre) {\n                g = this.props.genres[i].label;\n                break;\n            }\n        }\n        return (<tbody key={m.guid}><tr><td>{m.title}</td><td>{g}</td></tr></tbody>);\n    }\n\n    render() {\n        return (\n            <table className=\"movie-list\" >\n                <tbody>\n                    <tr>\n                        <th>Name</th>\n                        <th>Genre</th>\n                    </tr>\n                </tbody>\n                {this.state.movies.map(this.toMovie)}\n            </table>\n        )\n    }\n}\n\nexport default MovieList;"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,iBAAP;;AAEA,IAAIC,GAAJ;;AAEA,MAAMC,SAAN,SAAwBF,SAAxB,CAAkC;EAE9BG,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;IACA,KAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;IACA,KAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;IACA,KAAKE,KAAL,GAAa;MACTC,MAAM,EAAE;IADC,CAAb;IAGA,KAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBJ,IAAjB,CAAsB,IAAtB,CAAnB;IACA,KAAKK,cAAL,GAAsB,KAAKA,cAAL,CAAoBL,IAApB,CAAyB,IAAzB,CAAtB;IACA,KAAKF,KAAL,CAAWQ,eAAX,CAA2BC,SAA3B,CAAqC,UAArC,EAAiD,KAAKH,WAAtD;EACH;;EAEDA,WAAW,GAAG;IACVT,GAAG,GAAG,IAAIa,cAAJ,EAAN;IACAb,GAAG,CAACc,IAAJ,CAAS,KAAT,EAAgB,yBAAhB;IACAd,GAAG,CAACe,IAAJ;IACAf,GAAG,CAACgB,gBAAJ,CAAqB,kBAArB,EAAyC,KAAKN,cAA9C,EAA8D,KAA9D;EACH;;EAEDA,cAAc,GAAG;IACb,IAAIV,GAAG,CAACiB,UAAJ,KAAmB,CAAnB,IAAwBjB,GAAG,CAACkB,MAAJ,KAAe,GAA3C,EAAgD;MAC5C,IAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWrB,GAAG,CAACsB,YAAf,CAAf;MACA,KAAKC,QAAL,CAAc;QACVf,MAAM,EAAEW;MADE,CAAd;IAGH;EACJ;;EAEDK,iBAAiB,GAAG;IAChB,KAAKf,WAAL;EACH;;EAEDH,UAAU,CAACmB,CAAD,EAAI;IACV,OAAO,GAAP;EACH;;EAEDrB,OAAO,CAACsB,CAAD,EAAI;IACP,IAAID,CAAC,GAAG,GAAR;;IACA,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKxB,KAAL,CAAWyB,MAAX,CAAkBC,MAAtC,EAA8CF,CAAC,EAA/C,EAAmD;MAC/C,IAAI,KAAKxB,KAAL,CAAWyB,MAAX,CAAkBD,CAAlB,EAAqBG,KAArB,KAA+BJ,CAAC,CAACK,KAArC,EAA4C;QACxCN,CAAC,GAAG,KAAKtB,KAAL,CAAWyB,MAAX,CAAkBD,CAAlB,EAAqBK,KAAzB;QACA;MACH;IACJ;;IACD,oBAAQ;MAAA,uBAAoB;QAAA,wBAAI;UAAA,UAAKN,CAAC,CAACO;QAAP;UAAA;UAAA;UAAA;QAAA,QAAJ,eAAsB;UAAA,UAAKR;QAAL;UAAA;UAAA;UAAA;QAAA,QAAtB;MAAA;QAAA;QAAA;QAAA;MAAA;IAApB,GAAYC,CAAC,CAACQ,IAAd;MAAA;MAAA;MAAA;IAAA,QAAR;EACH;;EAEDC,MAAM,GAAG;IACL,oBACI;MAAO,SAAS,EAAC,YAAjB;MAAA,wBACI;QAAA,uBACI;UAAA,wBACI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFJ;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ,EAOK,KAAK5B,KAAL,CAAWC,MAAX,CAAkB4B,GAAlB,CAAsB,KAAKhC,OAA3B,CAPL;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAWH;;AA7D6B;;AAgElC,eAAeH,SAAf"},"metadata":{},"sourceType":"module"}